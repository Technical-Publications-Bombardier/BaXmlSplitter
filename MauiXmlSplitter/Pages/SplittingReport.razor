@page "/report"
@using System.Text
@using System.Text.RegularExpressions
@using System.Xml
@using MauiXmlSplitter.Models
@using MauiXmlSplitter.Resources
@using Microsoft.AspNetCore.WebUtilities
@inject XmlSplitterViewModel ViewModel
@inject NavigationManager NavigationManager
@inject IXmlSplitReport<XmlSplitter> Report
@inject IJSRuntime JSRuntime

<div class="px-4 d-flex justify-content-start">
    <Button @ref="SaveHtml" Color="ButtonColor.Primary" Size="Size.ExtraSmall" @onclick="OnSaveClick">
        <Icon Name="IconName.Floppy"></Icon>
    </Button>
</div>
<div id="splittingReport">

    <p>The source XML, '@(Path.GetFileName(ViewModel.SourceXml))', was split into @(Report.Count) unit of work nodes.</p>
    <p>The complete splitting report is written as @(string.Join(", ", Enum.GetNames<XmlSplitReport.ReportFormat>())) files in the WIP package with the following file names:</p>
    <ul>
        @{
            foreach (var extension in SplittingReportFileExtensions)
            {
                if (Directory.GetFiles(OutputDir, $"*.{extension}").FirstOrDefault(file => XmlSplitterViewModel.ReportDateFormatRe().IsMatch(file)) is { } reportPath)
                {
                    var uri = new Uri(reportPath).AbsoluteUri;
                    <li>
                        <a href="@uri" target="">@($"{Path.GetFileName(reportPath)}")</a>
                    </li>
                }
            }
        }
    </ul>
    <p>Below is the full HTML report of the XML splitting results:</p>
    <Callout Type="CalloutType.Info">The tag of the parent is the <em>most recent containing XML node</em> having a <code>key</code> attribute; or, where there is no such <code>key</code>-bearing node, the root node for the document is indicated. For brevity, the parent tag is represented as a self-closing tag without inner XML.</Callout>
    <Callout Type="CalloutType.Tip">
        "Node" in this context refers to the unit of work as an
        <a href="https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmlnode?view=net-8.0">
            <code>XmlNode</code>
        </a> that was split off from the source
        <a href="https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmldocument?view=net-8.0">
            <code>XmlDocument</code>
        </a>.
    </Callout>
    <table class="table">
        <caption>Table showing the details on each node that was split from the source XML.</caption>
        <colgroup>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
            <col/>
        </colgroup>
        <tr>
            <th>Checkout Parent Number</th>
            <th>Checkout Parent Element&rsquo;s Name</th>
            <th>Checkout Parent&rsquo;s &lsquo;<code>key</code>&rsquo; Value</th>
            <th>Checkout Parent&rsquo;s Opening Tag</th>
            <th>UOW Node Number</th>
            <th>UOW Node Element&rsquo;s Name</th>
            <th>UOW Node&rsquo;s &lsquo;<code>key</code>&rsquo; Value</th>
            <th>Key-bearing Parent&rsquo;s Opening Tag</th>
            <th>Full XPath to UOW Node</th>
            <th>Filename of Split</th>
            <th>UOW State Value</th>
            <th>UOW State Name</th>
            <th>UOW State Remark</th>
        </tr>
        @{
            Index = 0;
        }
        @foreach (var entry in Report)
        {
            <tr>
                @if (Index++ == 0)
                {
                    // Checkout Parent Number
                    <td rowspan="@Report.GetNumSiblings(entry)"><code>@entry.CheckoutParentNumber</code></td>
                    // Checkout Parent Name
                    <td rowspan="@Report.GetNumSiblings(entry)"><code>@entry.CheckoutParent.Name</code></td>
                    // Checkout's 'Key' Value
                    <td rowspan="@Report.GetNumSiblings(entry)"><code>@(entry.CheckoutParent.Attributes?["key"]?.Value ?? "&nbsp;")</code></td>
                    // Checkout Parent Tag
                    <td rowspan="@Report.GetNumSiblings(entry)">
                        <code>@entry.CheckoutParent.OuterXml</code>
                    </td>
                }
                <!-- Node Number -->
                <td><code>@entry.NodeNumber</code></td>
                <!-- Node Element Name -->
                <td><code>@entry.UowNode.Name</code></td>
                <!-- Node's 'Key' Value -->
                <td><code>@(entry.UowNode.Attributes?["key"]?.Value ?? "&nbsp;")</code></td>
                <!-- Key-bearing Parent's Tag -->
                <td>
                    <code>@entry.KeyedParent.OuterXml</code>
                </td>
                <!-- Full XPath -->
                <td>
                    <code>@entry.FullXPath</code>
                </td>
                <!-- Filename of Split -->
                <td><code>@entry.FilenameOfSplit</code></td>
                <!-- ETPS UOW State Value --><td><code>@entry.UowState.StateValue</code></td>
                <!-- ETPS UOW State Name --><td>@entry.UowState.StateName</td>
                <!-- ETPS UOW State Remark -->
                <td>@(string.IsNullOrEmpty(entry.UowState.Remark) ? "&nbsp;" : entry.UowState.Remark)</td>
            </tr>
        }
    </table>
</div>

@code {
    /// <summary>
    ///     The directory to write the split files out to
    /// </summary>
    protected string OutputDir = default!;

    /// <summary>
    ///     Current <see cref="XmlSplitReportEntry" /> index of the report.
    /// </summary>
    protected int Index { get; set; }

    public Button SaveHtml { get; set; }

    /// <summary>
    ///     Determines if a node <paramref name="possibleChild" /> is a child of <paramref name="parent" />
    /// </summary>
    /// <param name="parent"></param>
    /// <param name="possibleChild"></param>
    /// <returns>
    ///     <c>true</c> if <paramref name="possibleChild" /> is a child of <paramref name="parent" />, <c>false</c>
    ///     otherwise.
    /// </returns>
    public static bool IsDescendant(XmlNode parent, XmlNode possibleChild)
    {
        return parent.Equals(possibleChild) /* possibleChild is the same node as parent */ ||
               (possibleChild.ParentNode is not null /* false when possibleChild has no parent */ &&
                IsDescendant(parent, possibleChild.ParentNode));
        // recursively check parent's parent
    }

    /// <summary>
    ///     The report formats
    /// </summary>
    protected static string[] SplittingReportFileExtensions = Enum.GetNames<XmlSplitReport.ReportFormat>();

    /// <inheritdoc />
    protected override void OnInitialized()
    {
        base.OnInitialized();
        var uri = NavigationManager.ToAbsoluteUri(NavigationManager.Uri);
        if (QueryHelpers.ParseQuery(uri.Query).TryGetValue("outputDir", out var initOutputDirectory))
        {
            OutputDir = initOutputDirectory.ToString();
        }
    }

    /// <inheritdoc />
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        if (SynchronizationContext.Current is not null && Report is { } report)
        {
            report.OnEntryAdded += StateHasChanged;
        }
    }
    private async Task OnSaveClick()
    {
        SaveHtml.ShowLoading(AppResources.Saving);
        try
        {
            if (await JSRuntime.InvokeAsync<string>("getRenderedHtml") is { } splittingReport)
            {
                // Save to `OutputDir`
                var html = Encoding.UTF8.GetString(Convert.FromBase64String("PCFET0NUWVBFIGh0bWw+DQo8IS0tW2lmIGx0IElFIDddPiAgICAgIDxodG1sIGNsYXNzPSJuby1qcyBsdC1pZTkgbHQtaWU4IGx0LWllNyI+IDwhW2VuZGlmXS0tPg0KPCEtLVtpZiBJRSA3XT4gICAgICAgICA8aHRtbCBjbGFzcz0ibm8tanMgbHQtaWU5IGx0LWllOCI+IDwhW2VuZGlmXS0tPg0KPCEtLVtpZiBJRSA4XT4gICAgICAgICA8aHRtbCBjbGFzcz0ibm8tanMgbHQtaWU5Ij4gPCFbZW5kaWZdLS0+DQo8IS0tW2lmIGd0IElFIDhdPiAgICAgIDxodG1sIGNsYXNzPSJuby1qcyI+IDwhLS08IVtlbmRpZl0tLT4NCjxodG1sIGxhbmc9ImVuIj4NCg0KPGhlYWQ+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9ZWRnZSI+DQogICAgPHRpdGxlPjwvdGl0bGU+DQogICAgPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IiI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIj4NCiAgICA8c3R5bGU+DQogICAgICAgIDpyb290IHsNCiAgICAgICAgICAgIC8qIHByZWxvYWQgKi8NCiAgICAgICAgICAgIC0tYmItcHJlbG9hZC1tb2RhbC16LWluZGV4OiAyMDU1Ow0KICAgICAgICAgICAgLS1iYi1wcmVsb2FkLW1vZGFsLWJhY2tkcm9wLXotaW5kZXg6IDIwNTA7DQogICAgICAgICAgICAvKiBjb25maXJtIGRpYWxvZyAqLw0KICAgICAgICAgICAgLS1iYi1jb25maXJtLWRpYWxvZy16LWluZGV4OiAyMDQ1Ow0KICAgICAgICAgICAgLS1iYi1jb25maXJtLWRpYWxvZy1iYWNrZHJvcC16LWluZGV4OiAyMDQwOw0KICAgICAgICAgICAgLyogb2ZmY2FudmFzICovDQogICAgICAgICAgICAtLWJiLW9mZmNhbnZhcy1jbG9zZS1pY29uLWZvbnQtc2l6ZTogMnJlbTsNCiAgICAgICAgICAgIC0tYmItb2ZmY2FudmFzLWZvb3Rlci1wYWRkaW5nLXk6IDFyZW07DQogICAgICAgICAgICAtLWJiLW9mZmNhbnZhcy1mb290ZXItcGFkZGluZy14OiAxcmVtOw0KICAgICAgICAgICAgLS1iYi1vZmZjYW52YXMtaG9yaXpvbnRhbC13aWR0aC1zbTogMzAwcHg7DQogICAgICAgICAgICAtLWJiLW9mZmNhbnZhcy1ob3Jpem9udGFsLXdpZHRoLWxnOiA4MDBweDsNCiAgICAgICAgICAgIC8qIHNpZGViYXIgKi8NCiAgICAgICAgICAgIC0tYmItdmlvbGV0OiAjNzEyY2Y5Ow0KICAgICAgICAgICAgLS1iYi1zaWRlYmFyLXdpZHRoOiAyNzBweDsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1jb2xsYXBzZWQtd2lkdGg6IDUwcHg7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci10b3Atcm93LWJhY2tncm91bmQtY29sb3I6IHZhcigtLWJiLXZpb2xldCk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItdG9wLXJvdy1ib3JkZXItY29sb3I6IHZhcigtLWJiLXZpb2xldCk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItdGl0bGUtdGV4dC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOw0KICAgICAgICAgICAgLS1iYi1zaWRlYmFyLWJyYW5kLWljb24tY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1icmFuZC1pbWFnZS13aWR0aDogMjRweDsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1icmFuZC1pbWFnZS1oZWlnaHQ6IDI0cHg7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItdGl0bGUtYmFkZ2UtdGV4dC1jb2xvcjogdmFyKC0tYmItdmlvbGV0KTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci10aXRsZS1iYWRnZS1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItbmF2YmFyLXRvZ2dsZXItaWNvbi1jb2xvcjogdmFyKC0tYmItdmlvbGV0KTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1uYXZiYXItdG9nZ2xlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItY29udGVudC1ib3JkZXItY29sb3I6IHJnYigyMTQsIDIxMywgMjEzKTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1uYXYtaXRlbS10ZXh0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOSk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItbmF2LWl0ZW0tdGV4dC1hY3RpdmUtY29sb3ItcmdiOiAxMTIuNTIwNzE4LCA0NC4wNjIxNTQsIDI0OS40Mzc4NDY7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItbmF2LWl0ZW0tdGV4dC1ob3Zlci1jb2xvcjogcmdiYSh2YXIoLS1iYi1zaWRlYmFyLW5hdi1pdGVtLXRleHQtYWN0aXZlLWNvbG9yLXJnYiksIDAuOSk7DQogICAgICAgICAgICAtLWJiLXNpZGViYXItbmF2LWl0ZW0tdGV4dC1hY3RpdmUtY29sb3I6IHJnYmEodmFyKC0tYmItc2lkZWJhci1uYXYtaXRlbS10ZXh0LWFjdGl2ZS1jb2xvci1yZ2IpLCAwLjkpOw0KICAgICAgICAgICAgLS1iYi1zaWRlYmFyLW5hdi1pdGVtLWJhY2tncm91bmQtaG92ZXItY29sb3I6IHJnYmEodmFyKC0tYmItc2lkZWJhci1uYXYtaXRlbS10ZXh0LWFjdGl2ZS1jb2xvci1yZ2IpLCAwLjA4KTsNCiAgICAgICAgICAgIC0tYmItc2lkZWJhci1uYXYtaXRlbS1ncm91cC1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJiLXNpZGViYXItbmF2LWl0ZW0tdGV4dC1hY3RpdmUtY29sb3ItcmdiKSwgMC4wOCk7DQogICAgICAgICAgICAvKiBjdXN0b20gdG9vbHRpcCAqLw0KICAgICAgICAgICAgLS1iYi10b29sdGlwLXByaW1hcnk6IHZhcigtLWJzLXByaW1hcnkpOw0KICAgICAgICAgICAgLS1iYi10b29sdGlwLXNlY29uZGFyeTogdmFyKC0tYnMtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIC0tYmItdG9vbHRpcC1zdWNjZXNzOiB2YXIoLS1icy1zdWNjZXNzKTsNCiAgICAgICAgICAgIC0tYmItdG9vbHRpcC1kYW5nZXI6IHZhcigtLWJzLWRhbmdlcik7DQogICAgICAgICAgICAtLWJiLXRvb2x0aXAtd2FybmluZzogdmFyKC0tYnMtd2FybmluZyk7DQogICAgICAgICAgICAtLWJiLXRvb2x0aXAtaW5mbzogdmFyKC0tYnMtaW5mbyk7DQogICAgICAgICAgICAtLWJiLXRvb2x0aXAtbGlnaHQ6IHZhcigtLWJzLWxpZ2h0KTsNCiAgICAgICAgICAgIC0tYmItdG9vbHRpcC1kYXJrOiB2YXIoLS1icy1kYXJrKTsNCiAgICAgICAgICAgIC0tYmItdG9vbHRpcC1jb2xvci13aGl0ZTogdmFyKC0tYnMtd2hpdGUpOw0KICAgICAgICAgICAgLS1iYi10b29sdGlwLWNvbG9yLWRhcms6IHZhcigtLWJzLWJsYWNrKTsNCiAgICAgICAgICAgIC8qIGJvcmRlciAqLw0KICAgICAgICAgICAgLS1icy1ib3JkZXItcmFkaXVzLXhzOiAwLjEyNXJlbTsNCiAgICAgICAgICAgIC0tYnMtYm9yZGVyLXJhZGl1cy1tZDogMC4zNzVyZW07DQogICAgICAgICAgICAvKiB0YWJsZSAqLw0KICAgICAgICAgICAgLS1iYi10YWJsZS1zdGlja3ktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICAgICAgICAgIC0tYmItdGFibGUtZnJlZXplLWNvbHVtbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogcHJlbG9hZCAqLw0KICAgICAgICAubW9kYWwtcGFnZS1sb2FkaW5nIHsNCiAgICAgICAgICAgIHotaW5kZXg6IHZhcigtLWJiLXByZWxvYWQtbW9kYWwtei1pbmRleCkgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RhbC1iYWNrZHJvcC1wYWdlLWxvYWRpbmcgew0KICAgICAgICAgICAgei1pbmRleDogdmFyKC0tYmItcHJlbG9hZC1tb2RhbC1iYWNrZHJvcC16LWluZGV4KSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWNvbnRlbnQtcGFnZS1sb2FkaW5nIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQgIWltcG9ydGFudDsNCiAgICAgICAgICAgIGJvcmRlcjogaW5oZXJpdCAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLyogY29uZmlybSBkaWFsb2cgKi8NCiAgICAgICAgLm1vZGFsLWNvbmZpcm1hdGlvbiB7DQogICAgICAgICAgICB6LWluZGV4OiB2YXIoLS1iYi1jb25maXJtLWRpYWxvZy16LWluZGV4KSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWJhY2tkcm9wLWNvbmZpcm1hdGlvbiB7DQogICAgICAgICAgICB6LWluZGV4OiB2YXIoLS1iYi1jb25maXJtLWRpYWxvZy1iYWNrZHJvcC16LWluZGV4KSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLyogY2FsbG91dCAqLw0KICAgICAgICAuYmItY2FsbG91dCB7DQogICAgICAgICAgICBwYWRkaW5nOiAxLjI1cmVtOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMS4yNXJlbTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuMjVyZW07DQogICAgICAgICAgICBib3JkZXItbGVmdDogMC4yNXJlbSBzb2xpZCByZ2JhKHZhcigtLWJzLWRhcmstcmdiKSwgLjUpOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1icy1kYXJrLXJnYiksIC4wNzUpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogLjI1cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQgaDQgew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogLjI1cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQgcDpsYXN0LWNoaWxkIHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0IGNvZGUgew0KICAgICAgICAgICAgYm9yZGVyOiAwLjFyZW0gc29saWQgcmdiYSgwLCAwLCAwLCAuMDUpOw0KICAgICAgICAgICAgY29sb3I6IHJnYmEodmFyKC0tYnMtZGFyay1yZ2IpLCAxKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtZGFyay1yZ2IpLCAuMTUpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogLjI1cmVtOw0KICAgICAgICAgICAgcGFkZGluZzogMC4xcmVtOw0KICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjNyZW07DQogICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjNyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuYmItY2FsbG91dCBhIHsNCiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHZhcigtLWJzLWRhcmstcmdiKSwgMSk7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQgYTpob3ZlciB7DQogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0Ky5iYi1jYWxsb3V0IHsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IC0uMjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuYmItY2FsbG91dC1pbmZvIHsNCiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAwLjI1cmVtIHNvbGlkIHJnYmEodmFyKC0tYnMtaW5mby1yZ2IpLCAuNSk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLWluZm8tcmdiKSwgLjA3NSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItY2FsbG91dC1pbmZvIC5iYi1jYWxsb3V0LWhlYWRpbmcgew0KICAgICAgICAgICAgY29sb3I6IHJnYmEodmFyKC0tYnMtaW5mby1yZ2IpLCAwLjc1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LWluZm8gY29kZSB7DQogICAgICAgICAgICBjb2xvcjogcmdiYSh2YXIoLS1icy1pbmZvLXJnYiksIDEpOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1icy1pbmZvLXJnYiksIC4xNSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItY2FsbG91dC1pbmZvIGEgew0KICAgICAgICAgICAgY29sb3I6IHJnYmEodmFyKC0tYnMtaW5mby1yZ2IpLCAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXdhcm5pbmcgew0KICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDAuMjVyZW0gc29saWQgcmdiYSh2YXIoLS1icy13YXJuaW5nLXJnYiksIC41KTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtd2FybmluZy1yZ2IpLCAuMDc1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXdhcm5pbmcgLmJiLWNhbGxvdXQtaGVhZGluZyB7DQogICAgICAgICAgICBjb2xvcjogcmdiYSh2YXIoLS1icy13YXJuaW5nLXJnYiksIDAuNzUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQtd2FybmluZyBjb2RlIHsNCiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHZhcigtLWJzLXdhcm5pbmctcmdiKSwgMSk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXdhcm5pbmctcmdiKSwgLjE1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXdhcm5pbmcgYSB7DQogICAgICAgICAgICBjb2xvcjogcmdiYSh2YXIoLS1icy13YXJuaW5nLXJnYiksIDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQtZGFuZ2VyIHsNCiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAwLjI1cmVtIHNvbGlkIHJnYmEodmFyKC0tYnMtZGFuZ2VyLXJnYiksIC41KTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtZGFuZ2VyLXJnYiksIC4wNzUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQtZGFuZ2VyIC5iYi1jYWxsb3V0LWhlYWRpbmcgew0KICAgICAgICAgICAgY29sb3I6IHJnYmEodmFyKC0tYnMtZGFuZ2VyLXJnYiksIDAuNzUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQtZGFuZ2VyIGNvZGUgew0KICAgICAgICAgICAgY29sb3I6IHJnYmEodmFyKC0tYnMtZGFuZ2VyLXJnYiksIDEpOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1icy1kYW5nZXItcmdiKSwgLjE1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LWRhbmdlciBhIHsNCiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHZhcigtLWJzLWRhbmdlci1yZ2IpLCAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXN1Y2Nlc3Mgew0KICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDAuMjVyZW0gc29saWQgcmdiYSh2YXIoLS1icy1zdWNjZXNzLXJnYiksIC41KTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtc3VjY2Vzcy1yZ2IpLCAuMDc1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXN1Y2Nlc3MgLmJiLWNhbGxvdXQtaGVhZGluZyB7DQogICAgICAgICAgICBjb2xvcjogcmdiYSh2YXIoLS1icy1zdWNjZXNzLXJnYiksIDAuNzUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWNhbGxvdXQtc3VjY2VzcyBjb2RlIHsNCiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHZhcigtLWJzLXN1Y2Nlc3MtcmdiKSwgMSk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXN1Y2Nlc3MtcmdiKSwgLjE1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1jYWxsb3V0LXN1Y2Nlc3MgYSB7DQogICAgICAgICAgICBjb2xvcjogcmdiYSh2YXIoLS1icy1zdWNjZXNzLXJnYiksIDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogb2ZmY2FudmFzICovDQogICAgICAgIC5vZmZjYW52YXMtZm9vdGVyIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgcGFkZGluZzogdmFyKC0tYmItb2ZmY2FudmFzLWZvb3Rlci1wYWRkaW5nLXkpIHZhcigtLWJiLW9mZmNhbnZhcy1mb290ZXItcGFkZGluZy14KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5vZmZjYW52YXMtc3RhcnQuYmItb2ZmY2FudmFzLXNtLA0KICAgICAgICAub2ZmY2FudmFzLWVuZC5iYi1vZmZjYW52YXMtc20gew0KICAgICAgICAgICAgd2lkdGg6IHZhcigtLWJiLW9mZmNhbnZhcy1ob3Jpem9udGFsLXdpZHRoLXNtKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5vZmZjYW52YXMtc3RhcnQuYmItb2ZmY2FudmFzLWxnLA0KICAgICAgICAub2ZmY2FudmFzLWVuZC5iYi1vZmZjYW52YXMtbGcgew0KICAgICAgICAgICAgd2lkdGg6IHZhcigtLWJiLW9mZmNhbnZhcy1ob3Jpem9udGFsLXdpZHRoLWxnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGdyaWQgLSBmaWx0ZXJzICovDQogICAgICAgIHRhYmxlIGJ1dHRvbi5kcm9wZG93bi10b2dnbGUuYmItZ3JpZC1maWx0ZXI6OmFmdGVyIHsNCiAgICAgICAgICAgIGNvbnRlbnQ6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItc3ltYm9sIHsNCiAgICAgICAgICAgIHdpZHRoOiAyLjI1cmVtOw0KICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLWdyaWQtcGFnaW5hdGlvbi10ZXh0IHsNCiAgICAgICAgICAgIHBhZGRpbmc6IC4zNzVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAvKiBncmlkIC0gZml4ZWQgaGVhZGVyICovDQogICAgICAgIC5iYi10YWJsZS1zdGlja3kgew0KICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCiAgICAgICAgICAgIGJvcmRlci1zcGFjaW5nOiAwOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi10YWJsZS1zdGlja3k+dGhlYWQ+dHIgew0KICAgICAgICAgICAgYm9yZGVyLXRvcC13aWR0aDogMCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMCAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXRhYmxlLXN0aWNreT50aGVhZD50cj50aCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYi10YWJsZS1zdGlja3ktYmFja2dyb3VuZC1jb2xvcik7DQogICAgICAgICAgICB0b3A6IDBweDsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkOw0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIC0xcHggMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXRhYmxlLXN0aWNreT50aGVhZD50cjpudGgtY2hpbGQoMik+dGggew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGJlbG93IENTUyBpcyBhcHBsaWNhYmxlLCBpZiBmaWx0ZXJzIGFyZSBlbmFibGVkLiAqLw0KICAgICAgICAuYmItdGFibGUtc3RpY2t5PnRoZWFkPnRyOm50aC1jaGlsZCgyKT50aCB7DQogICAgICAgICAgICB0b3A6IDQwcHg7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItdGFibGUtc3RpY2t5PnRib2R5PnRyOm50aC1jaGlsZCgxKSB7DQogICAgICAgICAgICBib3JkZXItdG9wLXdpZHRoOiAwICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItdGFibGUtc3RpY2t5PnRoZWFkPnRyPnRoPmRpdj51bC5kcm9wZG93bi1tZW51LnNob3cgew0KICAgICAgICAgICAgdG9wOiA2cHggIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGZyZWV6ZSBjb2x1bW5zICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoLmZyZWV6ZS1jb2x1bW4gew0KICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJiLXRhYmxlLWZyZWV6ZS1jb2x1bW4tYmFja2dyb3VuZC1jb2xvcik7DQogICAgICAgICAgICB6LWluZGV4OiA1Ow0KICAgICAgICAgICAgYm9yZGVyLWxlZnQtd2lkdGg6IDBweCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwcHggIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRoZWFkPnRyOm50aC1jaGlsZCgyKT50aC5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYi10YWJsZS1mcmVlemUtY29sdW1uLWJhY2tncm91bmQtY29sb3IpOw0KICAgICAgICAgICAgei1pbmRleDogNTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGZyZWV6ZSBjb2x1bW4gbGVmdCAqLw0KICAgICAgICAvKiB0aDogcm93LTEgKi8NCiAgICAgICAgdGFibGU+dGhlYWQ+dHI+dGg6bm90KC5mcmVlemUtY29sdW1uLXJpZ2h0KTpmaXJzdC1jaGlsZC5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwNCiAgICAgICAgICAgICAgICBpbnNldCAwIDFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksDQogICAgICAgICAgICAgICAgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCkuZnJlZXplLWNvbHVtbiB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksDQogICAgICAgICAgICAgICAgaW5zZXQgLTFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwNCiAgICAgICAgICAgICAgICBpbnNldCAwIDFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksDQogICAgICAgICAgICAgICAgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCk6bGFzdC1jaGlsZC5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwNCiAgICAgICAgICAgICAgICBpbnNldCAwIC0xcHggMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLA0KICAgICAgICAgICAgICAgIGluc2V0IC0xcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiB0aDogcm93LTIgKi8NCiAgICAgICAgdGFibGU+dGhlYWQ+dHI6bnRoLWNoaWxkKDIpPnRoOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCk6Zmlyc3QtY2hpbGQuZnJlZXplLWNvbHVtbiB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgLTFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICB0YWJsZT50aGVhZD50cjpudGgtY2hpbGQoMik+dGg6bm90KC5mcmVlemUtY29sdW1uLXJpZ2h0KS5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgLTFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRoZWFkPnRyOm50aC1jaGlsZCgyKT50aDpub3QoLmZyZWV6ZS1jb2x1bW4tcmlnaHQpOmxhc3QtY2hpbGQuZnJlZXplLWNvbHVtbiB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IC0xcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICB0YWJsZT50Ym9keT50cj50ZC5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYi10YWJsZS1mcmVlemUtY29sdW1uLWJhY2tncm91bmQtY29sb3IpOw0KICAgICAgICAgICAgei1pbmRleDogNDsNCiAgICAgICAgICAgIGJvcmRlci1sZWZ0LXdpZHRoOiAwcHggIWltcG9ydGFudDsNCiAgICAgICAgICAgIGJvcmRlci1yaWdodC13aWR0aDogMHB4ICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICB0YWJsZT50Ym9keT50cj50ZDpub3QoLmZyZWV6ZS1jb2x1bW4tcmlnaHQpOmZpcnN0LWNoaWxkLmZyZWV6ZS1jb2x1bW4gew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGFibGU+dGJvZHk+dHI+dGQ6bm90KC5mcmVlemUtY29sdW1uLXJpZ2h0KS5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgLTFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRib2R5PnRyPnRkOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCk6bGFzdC1jaGlsZC5mcmVlemUtY29sdW1uIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBmcmVlemUgY29sdW1uIHJpZ2h0ICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOmlzKC5mcmVlemUtY29sdW1uLXJpZ2h0KSB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlPnRoZWFkPnRyOm50aC1jaGlsZCgyKT50aDppcyguZnJlZXplLWNvbHVtbi1yaWdodCkgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIC0xcHggMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGFibGU+dGJvZHk+dHI+dGQ6aXMoLmZyZWV6ZS1jb2x1bW4tcmlnaHQpIHsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGJlbG93IENTUyBpcyBhcHBsaWNhYmxlLCBpZiBzY3JvbGxMZWZ0ID4gMCAqLw0KICAgICAgICAvKiB0aGVhZDogZmlyc3Qtcm93IC0+IGZpcnN0IHRoICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCk6Zmlyc3QtY2hpbGQuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgLTFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiB0aGVhZDogc2Vjb25kLXJvdyAtPiBmaXJzdCB0aCAqLw0KICAgICAgICB0YWJsZT50aGVhZD50cjpudGgtY2hpbGQoMik+dGg6bm90KC5mcmVlemUtY29sdW1uLXJpZ2h0KTpmaXJzdC1jaGlsZC5mcmVlemUtY29sdW1uLWFjdGl2ZSB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgLTFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiB0aGVhZDogZmlyc3Qtcm93IC0+IGFsbCB0aCdzICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCkuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAtMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgLTFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiB0aGVhZDogc2Vjb25kLXJvdyAtPiBhbGwgdGgncyAqLw0KICAgICAgICB0YWJsZT50aGVhZD50cjpudGgtY2hpbGQoMik+dGg6bm90KC5mcmVlemUtY29sdW1uLXJpZ2h0KS5mcmVlemUtY29sdW1uLWFjdGl2ZSB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IC0xcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgLTFweCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAvKiB0aGVhZDogZmlyc3Qtcm93IC0+IGFsbCB0aCdzLCByaWdodCBmcmVlemUgY29sdW1ucyBvbmx5ICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyPnRoOmlzKC5mcmVlemUtY29sdW1uLXJpZ2h0KS5mcmVlemUtY29sdW1uLWFjdGl2ZSB7DQogICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHZhcigtLWJzLXRhYmxlLWJvcmRlci1jb2xvciksIGluc2V0IDAgMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKSwgaW5zZXQgMCAtMXB4IDAgdmFyKC0tYnMtdGFibGUtYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIHRoZWFkOiBzZWNvbmQtcm93IC0+IGFsbCB0aCdzLCByaWdodCBmcmVlemUgY29sdW1ucyBvbmx5ICovDQogICAgICAgIHRhYmxlPnRoZWFkPnRyOm50aC1jaGlsZCgyKT50aDppcyguZnJlZXplLWNvbHVtbi1yaWdodCkuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAwIC0xcHggMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogdGJvZHk6IGV2ZXJ5IHJvdyAtPiBmaXJzdCB0ZCwgZXhjZXB0IHJpZ2h0IGZyZWV6ZSBjb2x1bW5zICovDQogICAgICAgIHRhYmxlPnRib2R5PnRyPnRkOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCk6Zmlyc3QtY2hpbGQuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogdGJvZHk6IGV2ZXJ5IHJvdyAtPiBhbGwgdGQncywgZXhjZXB0IHJpZ2h0IGZyZWV6ZSBjb2x1bW5zICovDQogICAgICAgIHRhYmxlPnRib2R5PnRyPnRkOm5vdCguZnJlZXplLWNvbHVtbi1yaWdodCkuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpLCBpbnNldCAtMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogdGJvZHk6IGV2ZXJ5IHJvdyAtPiBhbGwgdGQncywgcmlnaHQgZnJlZXplIGNvbHVtbnMgb25seSAqLw0KICAgICAgICB0YWJsZT50Ym9keT50cj50ZDppcyguZnJlZXplLWNvbHVtbi1yaWdodCkuZnJlZXplLWNvbHVtbi1hY3RpdmUgew0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDAgMCB2YXIoLS1icy10YWJsZS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogc2Nyb2xsYmFyICovDQogICAgICAgIC52LXNjcm9sbC1hdXRvIHsNCiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG8gIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zY3JvbGwtaGlkZGVuIHsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyIHsNCiAgICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMikgdHJhbnNwYXJlbnQ7DQogICAgICAgICAgICBzY3JvbGxiYXItY29sb3I6IHJnYmEoMCwgMCwgMCwgLjIpIHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluDQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyLnNjcm9sbC1hdXRvLWhpZGUgew0KICAgICAgICAgICAgc2Nyb2xsYmFyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudA0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXNjcm9sbGJhci5zY3JvbGwtYXV0by1oaWRlOmhvdmVyIHsNCiAgICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMikgdHJhbnNwYXJlbnQ7DQogICAgICAgICAgICBzY3JvbGxiYXItY29sb3I6IHJnYmEoMCwgMCwgMCwgLjIpIHRyYW5zcGFyZW50DQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhciB7DQogICAgICAgICAgICB3aWR0aDogMThweDsNCiAgICAgICAgICAgIGhlaWdodDogMThweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsNCiAgICAgICAgICAgIGJvcmRlcjogNnB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94DQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjp2ZXJ0aWNhbCB7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAzMHB4DQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3Jpem9udGFsIHsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMzBweA0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXNjcm9sbGJhci5zY3JvbGwtYXV0by1oaWRlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3gNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1zY3JvbGxiYXIuc2Nyb2xsLWF1dG8taGlkZTpob3Zlcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4yKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3gNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsNCiAgICAgICAgICAgIGJvcmRlcjogNnB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXNjcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMyk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4zKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7DQogICAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZCB0cmFuc3BhcmVudA0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXNjcm9sbGJhci1oaWRkZW4gew0KICAgICAgICAgICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOw0KICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lDQogICAgICAgIH0NCg0KICAgICAgICAuYmItc2Nyb2xsYmFyLWhpZGRlbjo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICAgICAgICAgICAgd2lkdGg6IDANCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGxheW91dCAqLw0KICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQxcHgpIHsNCiAgICAgICAgICAgIC5iYi1wYWdlIHsNCiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5iYi10b3Atcm93IHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5Ow0KICAgICAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgICAgICB6LWluZGV4OiAxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAudG9wLXJvdywNCiAgICAgICAgICAgIGFydGljbGUgew0KICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMnJlbSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDEuNXJlbSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXBhZ2Ugew0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgIH0NCg0KICAgICAgICBtYWluIHsNCiAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47DQogICAgICAgICAgICBoZWlnaHQ6IDEwMHZoOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1haW4gew0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjsNCiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItdG9wLXJvdyB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3Ow0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkNmQ1ZDU7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOw0KICAgICAgICAgICAgaGVpZ2h0OiAzLjVyZW07DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIHRvb2x0aXAgKi8NCiAgICAgICAgLmJiLXRvb2x0aXAtcHJpbWFyeSB7DQogICAgICAgICAgICAtLWJzLXRvb2x0aXAtYmc6IHZhcigtLWJiLXRvb2x0aXAtcHJpbWFyeSk7DQogICAgICAgICAgICAtLWJzLXRvb2x0aXAtY29sb3I6IHZhcigtLWJiLXRvb2x0aXAtY29sb3Itd2hpdGUpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXRvb2x0aXAtc2Vjb25kYXJ5IHsNCiAgICAgICAgICAgIC0tYnMtdG9vbHRpcC1iZzogdmFyKC0tYmItdG9vbHRpcC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgLS1icy10b29sdGlwLWNvbG9yOiB2YXIoLS1iYi10b29sdGlwLWNvbG9yLXdoaXRlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi10b29sdGlwLXN1Y2Nlc3Mgew0KICAgICAgICAgICAgLS1icy10b29sdGlwLWJnOiB2YXIoLS1iYi10b29sdGlwLXN1Y2Nlc3MpOw0KICAgICAgICAgICAgLS1icy10b29sdGlwLWNvbG9yOiB2YXIoLS1iYi10b29sdGlwLWNvbG9yLXdoaXRlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi10b29sdGlwLWRhbmdlciB7DQogICAgICAgICAgICAtLWJzLXRvb2x0aXAtYmc6IHZhcigtLWJiLXRvb2x0aXAtZGFuZ2VyKTsNCiAgICAgICAgICAgIC0tYnMtdG9vbHRpcC1jb2xvcjogdmFyKC0tYmItdG9vbHRpcC1jb2xvci13aGl0ZSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYmItdG9vbHRpcC13YXJuaW5nIHsNCiAgICAgICAgICAgIC0tYnMtdG9vbHRpcC1iZzogdmFyKC0tYmItdG9vbHRpcC13YXJuaW5nKTsNCiAgICAgICAgICAgIC0tYnMtdG9vbHRpcC1jb2xvcjogdmFyKC0tYmItdG9vbHRpcC1jb2xvci1kYXJrKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi10b29sdGlwLWluZm8gew0KICAgICAgICAgICAgLS1icy10b29sdGlwLWJnOiB2YXIoLS1iYi10b29sdGlwLWluZm8pOw0KICAgICAgICAgICAgLS1icy10b29sdGlwLWNvbG9yOiB2YXIoLS1iYi10b29sdGlwLWNvbG9yLWRhcmspOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXRvb2x0aXAtbGlnaHQgew0KICAgICAgICAgICAgLS1icy10b29sdGlwLWJnOiB2YXIoLS1iYi10b29sdGlwLWxpZ2h0KTsNCiAgICAgICAgICAgIC0tYnMtdG9vbHRpcC1jb2xvcjogdmFyKC0tYmItdG9vbHRpcC1jb2xvci1kYXJrKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5iYi10b29sdGlwLWRhcmsgew0KICAgICAgICAgICAgLS1icy10b29sdGlwLWJnOiB2YXIoLS1iYi10b29sdGlwLWRhcmspOw0KICAgICAgICAgICAgLS1icy10b29sdGlwLWNvbG9yOiB2YXIoLS1iYi10b29sdGlwLWNvbG9yLXdoaXRlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGJ1dHRvbiAqLw0KICAgICAgICAuYnRuLXhzIHsNCiAgICAgICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteTogMC4xMjVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXg6IDAuMjVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDAuNzVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1ib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzLXNtKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tc20gew0KICAgICAgICAgICAgLS1icy1idG4tcGFkZGluZy15OiAwLjI1cmVtOw0KICAgICAgICAgICAgLS1icy1idG4tcGFkZGluZy14OiAwLjVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDAuODc1cmVtOw0KICAgICAgICAgICAgLS1icy1idG4tYm9yZGVyLXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cy1zbSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLW1kIHsNCiAgICAgICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteTogMC4zNzVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXg6IDAuNzVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDFyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1ib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzLW1kKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tbGcgew0KICAgICAgICAgICAgLS1icy1idG4tcGFkZGluZy15OiAwLjVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXg6IDFyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDEuMjVyZW07DQogICAgICAgICAgICAtLWJzLWJ0bi1ib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzLWxnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4teGwgew0KICAgICAgICAgICAgLS1icy1idG4tcGFkZGluZy15OiAwLjYyNXJlbTsNCiAgICAgICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteDogMS4yNXJlbTsNCiAgICAgICAgICAgIC0tYnMtYnRuLWZvbnQtc2l6ZTogMS41cmVtOw0KICAgICAgICAgICAgLS1icy1idG4tYm9yZGVyLXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cy1sZyk7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBidXR0b24gPiBzcGlubmVyICovDQogICAgICAgIC5zcGlubmVyLWJvcmRlci14cyB7DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItd2lkdGg6IDAuNXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1oZWlnaHQ6IDAuNXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1ib3JkZXItd2lkdGg6IDAuMTI1ZW07DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItdmVydGljYWwtYWxpZ246IDA7DQogICAgICAgIH0NCg0KICAgICAgICAuc3Bpbm5lci1ib3JkZXItc20gew0KICAgICAgICAgICAgLS1icy1zcGlubmVyLXdpZHRoOiAwLjc1cmVtOw0KICAgICAgICAgICAgLS1icy1zcGlubmVyLWhlaWdodDogMC43NXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1ib3JkZXItd2lkdGg6IDAuMTVlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci12ZXJ0aWNhbC1hbGlnbjogMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zcGlubmVyLWJvcmRlci1tZCB7DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItd2lkdGg6IDFyZW07DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItaGVpZ2h0OiAxcmVtOw0KICAgICAgICAgICAgLS1icy1zcGlubmVyLWJvcmRlci13aWR0aDogMC4xNzVlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci12ZXJ0aWNhbC1hbGlnbjogLTAuMTI1ZW07DQogICAgICAgIH0NCg0KICAgICAgICAuc3Bpbm5lci1ib3JkZXItbGcgew0KICAgICAgICAgICAgLS1icy1zcGlubmVyLXdpZHRoOiAxLjI1cmVtOw0KICAgICAgICAgICAgLS1icy1zcGlubmVyLWhlaWdodDogMS4yNXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1ib3JkZXItd2lkdGg6IDAuMmVtOw0KICAgICAgICAgICAgLS1icy1zcGlubmVyLXZlcnRpY2FsLWFsaWduOiAtMC4xMjVlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zcGlubmVyLWJvcmRlci14bCB7DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItd2lkdGg6IDEuNXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1oZWlnaHQ6IDEuNXJlbTsNCiAgICAgICAgICAgIC0tYnMtc3Bpbm5lci1ib3JkZXItd2lkdGg6IDAuMjI1ZW07DQogICAgICAgICAgICAtLWJzLXNwaW5uZXItdmVydGljYWwtYWxpZ246IC0wLjEyNWVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogcmFuZ2UgKi8NCiAgICAgICAgLmJiLWZvcm0tcmFuZ2UtaW5wdXQgew0KICAgICAgICAgICAgYXBwZWFyYW5jZTogYXV0byAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmJiLXJhbmdlLWRhdGEtbGlzdCB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIHdyaXRpbmctbW9kZTogdmVydGljYWwtbHI7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIHBkZiB2aWV3ZXIgKi8NCiAgICAgICAgLnBkZi12aWV3ZXItZHJvcGRvd24tdG9nZ2xlOjphZnRlciB7DQogICAgICAgICAgICBjb250ZW50OiBpbmhlcml0ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBAaW1wb3J0IHVybCgnb3Blbi1pY29uaWMvZm9udC9jc3Mvb3Blbi1pY29uaWMtYm9vdHN0cmFwLm1pbi5jc3MnKTsNCiAgICAgICAgICAgIEBpbXBvcnQgdXJsKCdNYXRlcmlhbERlc2lnbi9mb250L2Nzcy9tYXRlcmlhbGRlc2lnbmljb25zLmNzcycpOw0KDQogICAgICAgICAgICBAZm9udC1mYWNlIHsNCiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0dhYmFyaXRvJzsNCiAgICAgICAgICAgICAgICBzcmM6IHVybCgnZm9udHMvR2FiYXJpdG8tUmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSwgdXJsKCdmb250cy9HYWJhcml0by1SZWd1bGFyLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTsNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBmb250LWZhY2Ugew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTW9ub2lkIE5lcmQgRm9udCc7DQogICAgICAgICAgICAgICAgc3JjOiB1cmwoJ2ZvbnRzL01vbm9pZE5GLUJvbGQud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksIHVybCgnZm9udHMvTW9ub2lkTkYtQm9sZC53b2ZmJykgZm9ybWF0KCd3b2ZmJyk7DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtZGlzcGxheTogc3dhcDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQGZvbnQtZmFjZSB7DQogICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdNb25vaWQgTmVyZCBGb250JzsNCiAgICAgICAgICAgICAgICBzcmM6IHVybCgnZm9udHMvTW9ub2lkTkYtUmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSwgdXJsKCdmb250cy9Nb25vaWRORi1SZWd1bGFyLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTsNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBmb250LWZhY2Ugew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTW9ub2lkIE5lcmQgRm9udCBSZXRpbmEnOw0KICAgICAgICAgICAgICAgIHNyYzogdXJsKCdmb250cy9Nb25vaWRORi1SZXRpbmEud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksIHVybCgnZm9udHMvTW9ub2lkTkYtUmV0aW5hLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTsNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogMzAwOw0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBmb250LWZhY2Ugew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTW9ub2lkIE5lcmQgRm9udCc7DQogICAgICAgICAgICAgICAgc3JjOiB1cmwoJ2ZvbnRzL01vbm9pZE5GLUl0YWxpYy53b2ZmMicpIGZvcm1hdCgnd29mZjInKSwgdXJsKCdmb250cy9Nb25vaWRORi1JdGFsaWMud29mZicpIGZvcm1hdCgnd29mZicpOw0KICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogICAgICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljOw0KICAgICAgICAgICAgICAgIGZvbnQtZGlzcGxheTogc3dhcDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQGZvbnQtZmFjZSB7DQogICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdOb3RvIENvbG9yIEVtb2ppJzsNCiAgICAgICAgICAgICAgICBzcmM6IHVybCgnZm9udHMvTm90b0NvbG9yRW1vamktUmVndWxhci50dGYnKSBmb3JtYXQoJ3RydWV0eXBlJyk7DQogICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgOnJvb3Qgew0KICAgICAgICAgICAgICAgIC0tYmItc2lkZWJhci10b3Atcm93LWJhY2tncm91bmQtY29sb3I6ICMwMDNFNTE7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8qIFNldCB0aGUgZm9udCBmb3IgZmxhZyBlbW9qaXMgKi8NCiAgICAgICAgICAgIHNwYW4jZW1vamksDQogICAgICAgICAgICAjbGFuZ3VhZ2VzIC5kLWZsZXg+c3BhbjpudGgtY2hpbGQoMikgew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTm90byBDb2xvciBFbW9qaScsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwOw0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LXN0cmV0Y2g6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LW9wdGljYWwtc2l6aW5nOiBhdXRvOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICA6cm9vdCB7DQogICAgICAgICAgICAgICAgLS1jb25zb2xlLXdpZHRoOiA1MHZoOw0KICAgICAgICAgICAgICAgIC0tbGFiZWwtd2lkdGg6IDIwdnc7DQogICAgICAgICAgICAgICAgLS1pbnB1dC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICAtLWNvbnNvbGUtaGVhZGVyOiAxZW07DQogICAgICAgICAgICAgICAgLS1nb2xkZW4tcmF0aW86IDEuNjE4MDMzOTg4NzQ5ODk0Ow0KICAgICAgICAgICAgICAgIC0tbmVvbi1waW5rOiByZ2IoMjU1LCAyMCwgMTQ3KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI2JiZGxvZ28gaW1nIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwdnc7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNzZWxlY3RVb3cgLm1vZGFsLWNvbnRlbnQgew0KICAgICAgICAgICAgICAgIHdpZHRoOiByZXZlcnQgIWltcG9ydGFudDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3Byb2dyYW0tY2hlY2ttYXJrIHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICAgICAgY29sb3I6IGdyZWVuOw0KICAgICAgICAgICAgICAgIHJpZ2h0OiAxZW07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5iYi10b29sdGlwLXN1Y2Nlc3MgLnRvb2x0aXAtYXJyb3cgew0KICAgICAgICAgICAgICAgIGxlZnQ6IC0xLjE1ZW0gIWltcG9ydGFudDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3Byb2dyYW0tY2hlY2ttYXJrOjphZnRlciB7DQogICAgICAgICAgICAgICAgY29udGVudDogIiI7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAgIHRvcDogNTAlOw0KICAgICAgICAgICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgICAgICAgICB3aWR0aDogMWVtOw0KICAgICAgICAgICAgICAgIGhlaWdodDogMWVtOw0KICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMGZmMDAsIDAgMCAxMHB4ICMwMGZmMDAsIDAgMCAxNXB4ICMwMGZmMDAsIDAgMCAyMHB4ICMwMGZmMDA7DQogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBnbG93IDFzIGVhc2Utb3V0IGZvcndhcmRzOw0KICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAa2V5ZnJhbWVzIGdsb3cgew0KICAgICAgICAgICAgICAgIDAlIHsNCiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwLCAwIDAgMTBweCAjMDBmZjAwLCAwIDAgMTVweCAjMDBmZjAwLCAwIDAgMjBweCAjMDBmZjAwOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIDEwMCUgew0KICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4ICMwMGZmMDAsIDAgMCAwcHggIzAwZmYwMCwgMCAwIDBweCAjMDBmZjAwLCAwIDAgMHB4ICMwMGZmMDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuaGlkZSB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgYXJ0aWNsZSB7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogY2xpcDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRvcC1yb3cgew0KICAgICAgICAgICAgICAgIGhlaWdodDogbWluLWNvbnRlbnQgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm5hdi1saW5rLA0KICAgICAgICAgICAgLmJ0biB7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiBtaW4tY29udGVudCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgIHRleHQtd3JhcDogbm93cmFwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubmF2YmFyLXRvZ2dsZXIgew0KICAgICAgICAgICAgICAgIC13ZWJraXQtb3JkZXI6IDA7DQogICAgICAgICAgICAgICAgb3JkZXI6IDA7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1mbGV4OiAwIDEgYXV0bzsNCiAgICAgICAgICAgICAgICBmbGV4OiAwIDEgYXV0bzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm5hdmJhci1icmFuZCB7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1vcmRlcjogMTsNCiAgICAgICAgICAgICAgICBvcmRlcjogMTsNCiAgICAgICAgICAgICAgICAtd2Via2l0LWZsZXg6IDAgMSBhdXRvOw0KICAgICAgICAgICAgICAgIGZsZXg6IDAgMSBhdXRvOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAubmF2YmFyLWJyYW5kLA0KICAgICAgICAgICAgLm5hdmJhci10b2dnbGVyIHsNCiAgICAgICAgICAgICAgICAtd2Via2l0LWFsaWduLXNlbGY6IGF1dG87DQogICAgICAgICAgICAgICAgYWxpZ24tc2VsZjogYXV0bzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm5hdmJhci1icmFuZCBpbWcgew0KICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IGZpdC1jb250ZW50Ow0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmNvbnRhaW5lci1mbHVpZCB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4Ow0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOw0KICAgICAgICAgICAgICAgIC13ZWJraXQtZmxleC13cmFwOiB3cmFwOw0KICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgICAgICAgICAtd2Via2l0LWp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQogICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsNCiAgICAgICAgICAgICAgICAtd2Via2l0LWFsaWduLWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCiAgICAgICAgICAgICAgICBhbGlnbi1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogICAgICAgICAgICAgICAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBmb250LWZhY2Ugew0KICAgICAgICAgICAgICAgIC8qIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgQ3NzTm90UmVzb2x2ZWQgKi8NCiAgICAgICAgICAgICAgICBhc2NlbnQtb3ZlcnJpZGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICAvKiBSZVNoYXJwZXIgZGlzYWJsZSBvbmNlIENzc05vdFJlc29sdmVkICovDQogICAgICAgICAgICAgICAgZGVzY2VudC1vdmVycmlkZTogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQWRqdXN0ZWQgQXJpYWwgRmFsbGJhY2snOw0KICAgICAgICAgICAgICAgIC8qIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgQ3NzTm90UmVzb2x2ZWQgKi8NCiAgICAgICAgICAgICAgICBsaW5lLWdhcC1vdmVycmlkZTogbm9ybWFsOw0KICAgICAgICAgICAgICAgIC8qIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgQ3NzTm90UmVzb2x2ZWQgKi8NCiAgICAgICAgICAgICAgICBzaXplLWFkanVzdDogOTYlOw0KICAgICAgICAgICAgICAgIHNyYzogbG9jYWwoQXJpYWwpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAZm9udC1mYWNlIHsNCiAgICAgICAgICAgICAgICAvKiBSZVNoYXJwZXIgZGlzYWJsZSBvbmNlIENzc05vdFJlc29sdmVkICovDQogICAgICAgICAgICAgICAgYXNjZW50LW92ZXJyaWRlOiBub3JtYWw7DQogICAgICAgICAgICAgICAgLyogUmVTaGFycGVyIGRpc2FibGUgb25jZSBDc3NOb3RSZXNvbHZlZCAqLw0KICAgICAgICAgICAgICAgIGRlc2NlbnQtb3ZlcnJpZGU6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0FkanVzdGVkIEx1Y2lkYSBTYW5zIFR5cGV3cml0ZXIgRmFsbGJhY2snOw0KICAgICAgICAgICAgICAgIC8qIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgQ3NzTm90UmVzb2x2ZWQgKi8NCiAgICAgICAgICAgICAgICBsaW5lLWdhcC1vdmVycmlkZTogbm9ybWFsOw0KICAgICAgICAgICAgICAgIC8qIFJlU2hhcnBlciBkaXNhYmxlIG9uY2UgQ3NzTm90UmVzb2x2ZWQgKi8NCiAgICAgICAgICAgICAgICBzaXplLWFkanVzdDogMTExJTsNCiAgICAgICAgICAgICAgICBzcmM6IGxvY2FsKCdMdWNpZGEgU2FucyBUeXBld3JpdGVyJyk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGh0bWwsDQogICAgICAgICAgICBib2R5IHsNCiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0dhYmFyaXRvJywgJ0dhYmFyaXRvLVZhcmlhYmxlRm9udF93Z2h0JywgJ0FkanVzdGVkIEFyaWFsIEZhbGxiYWNrJywgQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8qI3JlZ2lvbiBJbmZvYm94ICovDQogICAgICAgICAgICAjaW5mb2JveCAqIHsNCiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKHZhcigtLWNvbnNvbGUtd2lkdGgpIC8gdmFyKC0tZ29sZGVuLXJhdGlvKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNpbmZvYm94IHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgICAgICAgICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsNCiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3NlbGVjdEZpbGVzIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDEwJTsNCiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciAxZnIgMWZyOw0KICAgICAgICAgICAgICAgIGdhcDogMHB4IDBweDsNCiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWFyZWFzOg0KICAgICAgICAgICAgICAgICAgICAiWG1sIEJyb3dzZVhtbCINCiAgICAgICAgICAgICAgICAgICAgIlVvdyBCcm93c2VVb3ciDQogICAgICAgICAgICAgICAgICAgICJPdXREaXIgQnJvd3NlT3V0RGlyIjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaW5wdXRbbmFtZT0nVmlld01vZGVsLlNvdXJjZVhtbCddIHsNCiAgICAgICAgICAgICAgICBncmlkLWFyZWE6IFhtbDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaW5wdXRbbmFtZT0nVmlld01vZGVsLlVvd1N0YXRlc0ZpbGUnXSB7DQogICAgICAgICAgICAgICAgZ3JpZC1hcmVhOiBVb3c7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlucHV0W25hbWU9J1ZpZXdNb2RlbC5PdXRwdXREaXJlY3RvcnknXSB7DQogICAgICAgICAgICAgICAgZ3JpZC1hcmVhOiBPdXREaXI7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlucHV0W25hbWU9J1ZpZXdNb2RlbC5Tb3VyY2VYbWwnXSBidXR0b24gew0KICAgICAgICAgICAgICAgIGdyaWQtYXJlYTogQnJvd3NlWG1sOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpbnB1dFtuYW1lPSdWaWV3TW9kZWwuVW93U3RhdGVzRmlsZSddIGJ1dHRvbiB7DQogICAgICAgICAgICAgICAgZ3JpZC1hcmVhOiBCcm93c2VVb3c7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlucHV0W25hbWU9J1ZpZXdNb2RlbC5PdXRwdXREaXJlY3RvcnknXSBidXR0b24gew0KICAgICAgICAgICAgICAgIGdyaWQtYXJlYTogQnJvd3NlT3V0RGlyOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjb2RlLA0KICAgICAgICAgICAgI3NwbGl0dGVyIHNlbGVjdCwNCiAgICAgICAgICAgICNjb25zb2xlOjpiZWZvcmUgew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnTW9ub2lkTmVyZEZvbnQtUmVndWxhcicsICdBZGp1c3RlZCBMdWNpZGEgU2FucyBUeXBld3JpdGVyIEZhbGxiYWNrJywgJ0x1Y2lkYSBTYW5zIFR5cGV3cml0ZXInLCBtb25vc3BhY2U7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjgwcmVtICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmV2ZXJ0ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoIGNvZGUgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3JlcXVpcmVtZW50cyB7DQogICAgICAgICAgICAgICAgZmxleDogMSAxIDUwJTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3JlcXVpcmVtZW50cyBsaSB7DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmRvbmUgew0KICAgICAgICAgICAgICAgIGNvbG9yOiBncmV5Ow0KICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOw0KICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiByZXZlcnQgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICBsaXN0LXN0eWxlLXBvc2l0aW9uOiBpbnNpZGU7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgICAgIHJpZ2h0OiAxLjA1ZW07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNjb25zb2xlIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogdmFyKC0tY29uc29sZS13aWR0aCk7DQogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogY2FsYyh2YXIoLS1jb25zb2xlLXdpZHRoKSAvIHZhcigtLWdvbGRlbi1yYXRpbykpOw0KICAgICAgICAgICAgICAgIGZsZXg6IHZhcigtLWdvbGRlbi1yYXRpbykgMSA1MCU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNjb25zb2xlPnByZT5jb2RlPnNwYW46bGFzdC1jaGlsZCB7DQogICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8qI2VuZHJlZ2lvbiBJbmZvYm94ICovDQoNCiAgICAgICAgICAgIC8qI3JlZ2lvbiBNZWRpYSBRdWVyaWVzICovDQogICAgICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHsNCg0KICAgICAgICAgICAgICAgICNiYmRsb2dvIC5uYXZiYXItYnJhbmQtaW1hZ2UubWUtMiwNCiAgICAgICAgICAgICAgICAjYmJkbG9nbyBhIHsNCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNjQwcHgpIGFuZCAobWluLXdpZHRoOiAyOTBweCkgew0KDQogICAgICAgICAgICAgICAgLm5hdmJhci1icmFuZC5kLWZsZXguYWxpZ24taXRlbXMtY2VudGVyIHsNCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIGFuZCAobWF4LXdpZHRoOiA3NjBweCkgew0KDQogICAgICAgICAgICAgICAgI2NvbnNvbGUgew0KICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMHZ3Ow0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNjQwcHgpIHsNCiAgICAgICAgICAgICAgICAjaW5mb2JveCB7DQogICAgICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAjcmVxdWlyZW1lbnRzIHsNCiAgICAgICAgICAgICAgICAgICAgZmxleC1iYXNpczogMTAwJTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAjY29uc29sZSB7DQogICAgICAgICAgICAgICAgICAgIGZsZXgtYmFzaXM6IDEwMCU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNTgwcHgpIHsNCiAgICAgICAgICAgICAgICAjY29uc29sZSBjb2RlIHsNCiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3ctd3JhcDogYW55d2hlcmUgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MzBweCkgew0KICAgICAgICAgICAgICAgIC5jb250YWluZXItZmx1aWQgew0KICAgICAgICAgICAgICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLyojZW5kcmVnaW9uIE1lZGlhIFF1ZXJpZXMgKi8NCg0KICAgICAgICAgICAgI2NvbnNvbGUsDQogICAgICAgICAgICAjY29uc29sZSBwcmUsDQogICAgICAgICAgICAjY29uc29sZSBjb2RlIHsNCiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKHZhcigtLWNvbnNvbGUtd2lkdGgpIC8gdmFyKC0tZ29sZGVuLXJhdGlvKSk7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKHZhcigtLWNvbnNvbGUtd2lkdGgpIC8gdmFyKC0tZ29sZGVuLXJhdGlvKSk7DQogICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgICAgIC8qIFNldCB0aGUgdGV4dCBjb2xvciB0byB3aGl0ZSBmb3IgYmV0dGVyIHZpc2liaWxpdHkgKi8NCiAgICAgICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tYmItc2lkZWJhci10b3Atcm93LWJhY2tncm91bmQtY29sb3IpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjY29uc29sZSBwcmUgew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJiLXNpZGViYXItdG9wLXJvdy1iYWNrZ3JvdW5kLWNvbG9yKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI2NvbnNvbGUgY29kZSB7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47DQogICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZTsNCiAgICAgICAgICAgICAgICB3b3JkLXdyYXA6IG5vcm1hbDsNCiAgICAgICAgICAgICAgICB0ZXh0LXdyYXA6IHByZXR0eTsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI2NvbnNvbGUgLmxvZ01lc3NhZ2Ugew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLXJvdzsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAubG9nTWVzc2FnZSAudGltZXN0YW1wIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsOw0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuNWVtOw0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTZ2dzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmxvZ01lc3NhZ2UgLm1lc3NhZ2Ugew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5UcmFjZSB7DQogICAgICAgICAgICAgICAgY29sb3I6IENvcm5zaWxrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuRGVidWcgew0KICAgICAgICAgICAgICAgIGNvbG9yOiBBbnRpcXVlV2hpdGU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5JbmZvcm1hdGlvbiB7DQogICAgICAgICAgICAgICAgY29sb3I6IExpbWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5XYXJuaW5nIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogT3JhbmdlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuRXJyb3Igew0KICAgICAgICAgICAgICAgIGNvbG9yOiBSZWQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5Dcml0aWNhbCB7DQogICAgICAgICAgICAgICAgY29sb3I6IERlZXBQaW5rOw0KICAgICAgICAgICAgICAgIC13ZWJraXQtdGV4dC1zdHJva2U6IDAuMjVweCB3aGl0ZTsNCiAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzoNCiAgICAgICAgICAgICAgICAgICAgMnB4IDJweCAwICMwMDAsDQogICAgICAgICAgICAgICAgICAgIC0wLjVweCAtMC41cHggMCAjMDAwLA0KICAgICAgICAgICAgICAgICAgICAwLjVweCAtMC41cHggMCAjMDAwLA0KICAgICAgICAgICAgICAgICAgICAtMC41cHggMC41cHggMCAjMDAwLA0KICAgICAgICAgICAgICAgICAgICAwLjVweCAwLjVweCAwICMwMDA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNjb25zb2xlIGRpdjpmaXJzdC1jaGlsZCB7DQogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWNvbnNvbGUtaGVhZGVyKSAtIDAuMip2YXIoLS1jb25zb2xlLWhlYWRlcikpOw0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtOw0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IGNhbGMoMC4yKnZhcigtLWNvbnNvbGUtaGVhZGVyKSkgMnB4Ow0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGgxOmZvY3VzIHsNCiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBhLA0KICAgICAgICAgICAgLmJ0bi1saW5rIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzAwNzFjMTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmJ0bi1wcmltYXJ5IHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWI2ZWMyOw0KICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzE4NjFhYzsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLmNvbnRlbnQgew0KICAgICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxLjFyZW07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC52YWxpZC5tb2RpZmllZDpub3QoW3R5cGU9Y2hlY2tib3hdKSB7DQogICAgICAgICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkICMyNmIwNTA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5pbnZhbGlkIHsNCiAgICAgICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgcmVkOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAudmFsaWRhdGlvbi1tZXNzYWdlIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogcmVkOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjYmxhem9yLWVycm9yLXVpIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaWdodHllbGxvdzsNCiAgICAgICAgICAgICAgICBib3R0b206IDA7DQogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAtMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMik7DQogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNnJlbSAxLjI1cmVtIDAuN3JlbSAxLjI1cmVtOw0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjYmxhem9yLWVycm9yLXVpIC5kaXNtaXNzIHsNCiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAgIHJpZ2h0OiAwLjc1cmVtOw0KICAgICAgICAgICAgICAgIHRvcDogMC41cmVtOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYmxhem9yLWVycm9yLWJvdW5kYXJ5IHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTlRZaUlHaGxhV2RvZEQwaU5Ea2lJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlHOTJaWEptYkc5M1BTSm9hV1JrWlc0aVBqeGtaV1p6UGp4amJHbHdVR0YwYUNCcFpEMGlZMnhwY0RBaVBqeHlaV04wSUhnOUlqSXpOU0lnZVQwaU5URWlJSGRwWkhSb1BTSTFOaUlnYUdWcFoyaDBQU0kwT1NJdlBqd3ZZMnhwY0ZCaGRHZytQQzlrWldaelBqeG5JR05zYVhBdGNHRjBhRDBpZFhKc0tDTmpiR2x3TUNraUlIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB5TXpVZ0xUVXhLU0krUEhCaGRHZ2daRDBpVFRJMk15NDFNRFlnTlRGRE1qWTBMamN4TnlBMU1TQXlOalV1T0RFeklEVXhMalE0TXpjZ01qWTJMall3TmlBMU1pNHlOalU0VERJMk55NHdOVElnTlRJdU56azROeUF5TmpjdU5UTTVJRFV6TGpZeU9ETWdNamt3TGpFNE5TQTVNaTR4T0RNeElESTVNQzQxTkRVZ09USXVOemsxSURJNU1DNDJOVFlnT1RJdU9UazJRekk1TUM0NE56Y2dPVE11TlRFeklESTVNU0E1TkM0d09ERTFJREk1TVNBNU5DNDJOemd5SURJNU1TQTVOeTR3TmpVeElESTRPUzR3TXpnZ09Ua2dNamcyTGpZeE55QTVPVXd5TkRBdU16Z3pJRGs1UXpJek55NDVOak1nT1RrZ01qTTJJRGszTGpBMk5URWdNak0ySURrMExqWTNPRElnTWpNMklEazBMak0zT1RrZ01qTTJMakF6TVNBNU5DNHdPRGcySURJek5pNHdPRGtnT1RNdU9EQTNNa3d5TXpZdU16TTRJRGt6TGpBeE5qSWdNak0yTGpnMU9DQTVNaTR4TXpFMElESTFPUzQwTnpNZ05UTXVOakk1TkNBeU5Ua3VPVFl4SURVeUxqYzVPRFVnTWpZd0xqUXdOeUExTWk0eU5qVTRRekkyTVM0eUlEVXhMalE0TXpjZ01qWXlMakk1TmlBMU1TQXlOak11TlRBMklEVXhXazB5TmpNdU5UZzJJRFkyTGpBeE9ETkRNall3TGpjek55QTJOaTR3TVRneklESTFPUzR6TVRNZ05qY3VNVEkwTlNBeU5Ua3VNekV6SURZNUxqTXpOeUF5TlRrdU16RXpJRFk1TGpZeE1ESWdNalU1TGpNek1pQTJPUzQ0TmpBNElESTFPUzR6TnpFZ056QXVNRGc0TjB3eU5qRXVOemsxSURnMExqQXhOakVnTWpZMUxqTTRJRGcwTGpBeE5qRWdNalkzTGpneU1TQTJPUzQzTkRjMVF6STJOeTQ0TmlBMk9TNDNNekE1SURJMk55NDROemtnTmprdU5UZzNOeUF5TmpjdU9EYzVJRFk1TGpNeE56a2dNalkzTGpnM09TQTJOeTR4TVRneUlESTJOaTQwTkRnZ05qWXVNREU0TXlBeU5qTXVOVGcySURZMkxqQXhPRE5hVFRJMk15NDFOellnT0RZdU1EVTBOME15TmpFdU1EUTVJRGcyTGpBMU5EY2dNalU1TGpjNE5pQTROeTR6TURBMUlESTFPUzQzT0RZZ09Ea3VOemt5TVNBeU5Ua3VOemcySURreUxqSTRNemNnTWpZeExqQTBPU0E1TXk0MU1qazFJREkyTXk0MU56WWdPVE11TlRJNU5TQXlOall1TVRFMklEa3pMalV5T1RVZ01qWTNMak00TnlBNU1pNHlPRE0zSURJMk55NHpPRGNnT0RrdU56a3lNU0F5TmpjdU16ZzNJRGczTGpNd01EVWdNalkyTGpFeE5pQTROaTR3TlRRM0lESTJNeTQxTnpZZ09EWXVNRFUwTjFvaUlHWnBiR3c5SWlOR1JrVTFNREFpSUdacGJHd3RjblZzWlQwaVpYWmxibTlrWkNJdlBqd3ZaejQ4TDNOMlp6ND0pIG5vLXJlcGVhdCAxcmVtLzEuOHJlbSwgI2IzMjEyMTsNCiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMXJlbSAxcmVtIDFyZW0gMy43cmVtOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuYmxhem9yLWVycm9yLWJvdW5kYXJ5OjphZnRlciB7DQogICAgICAgICAgICAgICAgY29udGVudDogIkFuIGVycm9yIGhhcyBvY2N1cnJlZC4iDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5zdGF0dXMtYmFyLXNhZmUtYXJlYSB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgQHN1cHBvcnRzICgtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmUpIHsNCiAgICAgICAgICAgICAgICAuc3RhdHVzLWJhci1zYWZlLWFyZWEgew0KICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3Ow0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKTsNCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsNCiAgICAgICAgICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAuZmxleC1jb2x1bW4sDQogICAgICAgICAgICAgICAgLm5hdmJhci1icmFuZCB7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogZW52KHNhZmUtYXJlYS1pbnNldC1sZWZ0KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNhYm91dCBzcGFuIHsNCiAgICAgICAgICAgICAgICBtYXJnaW46IGNhbGMoMXZ3ICogMC4xICsgMSUpOw0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogNTAlOw0KICAgICAgICAgICAgICAgIHdpZHRoOiAzM3Z3Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc3BsaXR0ZXIgbGFiZWwgew0KICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMTV2dzsNCiAgICAgICAgICAgICAgICB3aWR0aDogdmFyKC0tbGFiZWwtd2lkdGgpOw0KICAgICAgICAgICAgICAgIHRleHQtd3JhcDogbm93cmFwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc3BsaXR0ZXIgaW5wdXQgew0KICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjV2dzsNCiAgICAgICAgICAgICAgICB3aWR0aDogdmFyKC0taW5wdXQtd2lkdGgpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc2VsZWN0UHJvZ3JhbSwNCiAgICAgICAgICAgIC5zZWxlY3QtZmlsZSB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBtaW4tY29udGVudDsNCiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjsNCiAgICAgICAgICAgICAgICBnYXA6IDBweCAwcHg7DQogICAgICAgICAgICAgICAgZ3JpZC1hdXRvLWZsb3c6IHJvdzsNCiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDsNCiAgICAgICAgICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBzdGFydDsNCiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWFyZWFzOg0KICAgICAgICAgICAgICAgICAgICAiaW5wdXQgYnV0dG9uIjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnNlbGVjdC1maWxlIGlucHV0LA0KICAgICAgICAgICAgI3NlbGVjdFByb2dyYW0+bGFiZWwgew0KICAgICAgICAgICAgICAgIGdyaWQtYXJlYTogaW5wdXQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5zZWxlY3QtZmlsZSBidXR0b24sDQogICAgICAgICAgICAjc2VsZWN0UHJvZ3JhbT5zcGFuIHsNCiAgICAgICAgICAgICAgICBncmlkLWFyZWE6IGJ1dHRvbjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3NlbGVjdFByb2dyYW0+c3Bhbj5zZWxlY3Qgew0KICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjJ2dzsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDYwdnc7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHNwYW4udGV4dC10cnVuY2F0ZSB7DQogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxNXZ3Ow0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgICAgICBmbG9hdDogbGVmdDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3NlbGVjdFByb2dyYW0gew0KICAgICAgICAgICAgICAgIG91dGxpbmU6IGF1dG87DQogICAgICAgICAgICAgICAgb3V0bGluZS1zdHlsZTogZGFzaGVkOw0KICAgICAgICAgICAgICAgIG91dGxpbmUtd2lkdGg6IHRoaW47DQogICAgICAgICAgICAgICAgcGFkZGluZzogMC4yNWVtOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuZXJyb3Igew0KICAgICAgICAgICAgICAgIGJvcmRlcjogMC4xMjVlbSBzb2xpZCB2YXIoLS1uZW9uLXBpbmspOw0KICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMC4xMjVlbSBoc2woMCAwJSAxMDAlIC8gMC4zKSwgMCAwIDAuNDVlbSAtLWNsci1vbmU7DQogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAuNWVtIDAgdmFyKC0tbmVvbi1waW5rKSwgMCAwIDAuNWVtIDAgdmFyKC0tbmVvbi1waW5rKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3Vvd1N0YXRlc0ZpbGVJbnZhbGlkTW9kYWwgLmJpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlLWZpbGwgew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogeHgtbGFyZ2U7DQogICAgICAgICAgICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygxcHggMXB4IDhweCBvcmFuZ2UpOw0KICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1uZW9uLXBpbmspOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjdW93U3RhdGVzRmlsZU1vZGFsIGNvZGUgew0KICAgICAgICAgICAgICAgIGxpbmUtYnJlYWs6IGFueXdoZXJlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvKiBYbWwgU3BsaXR0aW5nIHJlcG9ydCAqLw0KICAgICAgICAgICAgI3NwbGl0dGluZ1JlcG9ydCB0YWJsZSwNCiAgICAgICAgICAgICNzcGxpdHRpbmdSZXBvcnQgdGgsDQogICAgICAgICAgICAjc3BsaXR0aW5nUmVwb3J0IHRkIHsNCiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsNCiAgICAgICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOw0KICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOw0KICAgICAgICAgICAgICAgIHRleHQtd3JhcDogcHJldHR5Ow0KICAgICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGFueXdoZXJlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc3BsaXR0aW5nUmVwb3J0IHRoLA0KICAgICAgICAgICAgI3NwbGl0dGluZ1JlcG9ydCB0ZCB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogNXB4Ow0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNzcGxpdHRpbmdSZXBvcnQgdHI6bnRoLWNoaWxkKGV2ZW4pIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc3BsaXR0aW5nUmVwb3J0IHRyOm50aC1jaGlsZChvZGQpIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAjc3BsaXR0aW5nUmVwb3J0IGFzaWRlIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmM2ZlOw0KICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiA2cHggc29saWQgIzIxOTZGMzsNCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDRweDsNCiAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggNHB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjc1KTsNCiAgICAgICAgICAgICAgICAtbW96LWJveC1zaGFkb3c6IDJweCAycHggNHB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjc1KTsNCiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAycHggMnB4IDRweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC43NSk7DQogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICNzcGxpdHRpbmdSZXBvcnQgYXNpZGU6OmJlZm9yZSB7DQogICAgICAgICAgICAgICAgY29udGVudDogIuKTmCI7DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjVlbTsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDAuOWVtOw0KICAgICAgICAgICAgICAgIGNvbG9yOiAjMjE5NkYzOw0KICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDRweCBibGFjazsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjRlbTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgI3NwbGl0dGluZ1JlcG9ydCBwcmUgew0KICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgICAgICAgICAgICAgIGNvbG9yOiBhbGljZWJsdWU7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMC43NWVtOw0KICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDR2aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIDwvc3R5bGU+DQo8L2hlYWQ+DQoNCjxib2R5Pg0KICAgIDwhLS1baWYgbHQgSUUgN10+DQogICAgICAgICAgICA8cCBjbGFzcz0iYnJvd3NlaGFwcHkiPllvdSBhcmUgdXNpbmcgYW4gPHN0cm9uZz5vdXRkYXRlZDwvc3Ryb25nPiBicm93c2VyLiBQbGVhc2UgPGEgaHJlZj0iIyI+dXBncmFkZSB5b3VyIGJyb3dzZXI8L2E+IHRvIGltcHJvdmUgeW91ciBleHBlcmllbmNlLjwvcD4NCiAgICAgICAgPCFbZW5kaWZdLS0+DQo=")) + splittingReport + "</body>\r\n\r\n</html>";
                var reportPath = Path.Join(OutputDir, "report.html");
                await File.WriteAllTextAsync(reportPath, html).ConfigureAwait(true);
                
            }
        }
        finally
        {
            SaveHtml.HideLoading();
        }
    }
}